"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/DiscussionMessages.tsx":
/*!***********************************************!*\
  !*** ./src/components/DiscussionMessages.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DiscussionMessages; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _ui_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui/input */ \"(app-pages-browser)/./src/components/ui/input.tsx\");\n/* harmony import */ var _ui_popup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui/popup */ \"(app-pages-browser)/./src/components/ui/popup.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction DiscussionMessages(param) {\n    let { discussionId, discussionTitle, onBack, onMessageSent } = param;\n    _s();\n    console.log(\"[DEBUG] DiscussionMessages component initialized with discussionId:\", discussionId);\n    const { user } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    console.log(\"[DEBUG] User from AuthContext in DiscussionMessages:\", user);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [subDiscussions, setSubDiscussions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Helper function to format dates\n    const formatDate = (date)=>{\n        const now = new Date();\n        const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\n        if (diffInSeconds < 60) {\n            return \"just now\";\n        } else if (diffInSeconds < 3600) {\n            const minutes = Math.floor(diffInSeconds / 60);\n            return \"\".concat(minutes, \" \").concat(minutes === 1 ? \"minute\" : \"minutes\", \" ago\");\n        } else if (diffInSeconds < 86400) {\n            const hours = Math.floor(diffInSeconds / 3600);\n            return \"\".concat(hours, \" \").concat(hours === 1 ? \"hour\" : \"hours\", \" ago\");\n        } else {\n            const days = Math.floor(diffInSeconds / 86400);\n            return \"\".concat(days, \" \").concat(days === 1 ? \"day\" : \"days\", \" ago\");\n        }\n    };\n    // Track locally added messages that haven't been confirmed from the server yet\n    const [pendingMessages, setPendingMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Use a ref to store the polling interval ID\n    const pollingIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Fetch messages and sub-discussions from the server\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"[DEBUG] DiscussionMessages useEffect running for discussionId:\", discussionId);\n        let isMounted = true; // Track if component is mounted\n        // Function to fetch data without setting up polling\n        const fetchData = async function() {\n            let showLoading = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n            console.log(\"[DEBUG] DiscussionMessages fetchData function called\");\n            if (!isMounted) return; // Don't proceed if component is unmounted\n            if (pendingMessages.length > 0 || !showLoading) {\n                // Don't show loading indicator when we have pending messages\n                // or when explicitly requested not to\n                setIsLoading(false);\n            } else {\n                setIsLoading(true);\n            }\n            try {\n                console.log(\"[DEBUG] Fetching messages and subdiscussions from API\");\n                // Fetch messages for the current discussion\n                const messagesResponse = await fetch(\"/api/messages?discussionId=\".concat(discussionId));\n                console.log(\"[DEBUG] Messages API response status:\", messagesResponse.status);\n                const subDiscussionsResponse = await fetch(\"/api/subdiscussions?discussionId=\".concat(discussionId));\n                console.log(\"[DEBUG] Subdiscussions API response status:\", subDiscussionsResponse.status);\n                if (!isMounted) return; // Don't proceed if component is unmounted\n                if (!messagesResponse.ok || !subDiscussionsResponse.ok) {\n                    console.error(\"[DEBUG] API response not OK - Messages:\", messagesResponse.status, messagesResponse.statusText);\n                    console.error(\"[DEBUG] API response not OK - Subdiscussions:\", subDiscussionsResponse.status, subDiscussionsResponse.statusText);\n                    throw new Error(\"Failed to fetch data\");\n                }\n                const messagesData = await messagesResponse.json();\n                const subDiscussionsData = await subDiscussionsResponse.json();\n                if (!isMounted) return; // Don't proceed if component is unmounted\n                console.log(\"[DEBUG] Raw messages data:\", messagesData);\n                // Separate messages into main discussion messages and sub-discussion messages\n                const mainDiscussionMessages = [];\n                const subDiscussionMessagesMap = new Map();\n                // Process all messages\n                messagesData.forEach((m)=>{\n                    const formattedMessage = {\n                        id: m.id,\n                        author: m.author,\n                        content: m.content,\n                        timestamp: formatDate(new Date(m.created_at)),\n                        serverId: m.id // Store the server ID for reference\n                    };\n                    if (m.subdiscussion_id) {\n                        var _subDiscussionMessagesMap_get;\n                        // This is a sub-discussion message\n                        const subId = m.subdiscussion_id;\n                        if (!subDiscussionMessagesMap.has(subId)) {\n                            subDiscussionMessagesMap.set(subId, []);\n                        }\n                        (_subDiscussionMessagesMap_get = subDiscussionMessagesMap.get(subId)) === null || _subDiscussionMessagesMap_get === void 0 ? void 0 : _subDiscussionMessagesMap_get.push(formattedMessage);\n                        console.log(\"[DEBUG] Added message to sub-discussion \".concat(subId, \":\"), formattedMessage);\n                    } else {\n                        // This is a main discussion message\n                        mainDiscussionMessages.push(formattedMessage);\n                    }\n                });\n                // Transform sub-discussions data and associate messages\n                const formattedSubDiscussions = subDiscussionsData.map((s)=>{\n                    const subMessages = subDiscussionMessagesMap.get(s.id) || [];\n                    console.log(\"[DEBUG] Sub-discussion \".concat(s.id, \" has \").concat(subMessages.length, \" messages\"));\n                    // Calculate the last message timestamp\n                    let lastMessageTime = s.created_at;\n                    if (subMessages.length > 0) {\n                        // Find the most recent message timestamp by looking at all messages\n                        // This is a fallback in case the messages aren't already sorted\n                        lastMessageTime = subMessages.reduce((latest, msg)=>{\n                            // Check if this message timestamp is more recent\n                            const msgTime = new Date(msg.timestamp).getTime();\n                            return msgTime > latest ? msgTime : latest;\n                        }, new Date(s.created_at).getTime());\n                    }\n                    return {\n                        id: s.id,\n                        title: s.title,\n                        createdAt: formatDate(new Date(s.created_at)),\n                        lastMessageAt: formatDate(new Date(lastMessageTime)),\n                        messages: subMessages,\n                        progress: s.progress || 0\n                    };\n                });\n                // Set main discussion messages\n                const formattedMessages = mainDiscussionMessages;\n                // If we have a selected sub-discussion, update its messages\n                if (selectedSubDiscussion) {\n                    const updatedSubDiscussion = formattedSubDiscussions.find((sd)=>sd.id === selectedSubDiscussion.id);\n                    if (updatedSubDiscussion) {\n                        console.log(\"[DEBUG] Updating selected sub-discussion \".concat(selectedSubDiscussion.id, \" with \").concat(updatedSubDiscussion.messages.length, \" messages\"));\n                        // Update the selected sub-discussion with new messages from the server\n                        setSelectedSubDiscussion(updatedSubDiscussion);\n                    }\n                }\n                // Check if any pending messages have been confirmed by the server\n                const confirmedMessageIds = formattedMessages.map((m)=>m.serverId);\n                const stillPendingMessages = pendingMessages.filter((pm)=>{\n                    // Keep messages that don't have a server ID yet or whose ID isn't in the confirmed list\n                    return !pm.serverId || !confirmedMessageIds.includes(pm.serverId);\n                });\n                // Combine server messages with any pending messages that haven't been confirmed yet\n                const combinedMessages = [\n                    ...formattedMessages,\n                    ...stillPendingMessages\n                ];\n                if (!isMounted) return; // Don't proceed if component is unmounted\n                setMessages(combinedMessages);\n                setPendingMessages(stillPendingMessages);\n                setSubDiscussions(formattedSubDiscussions);\n            } catch (error) {\n                console.error(\"[DEBUG] Error fetching data:\", error);\n                // Only use fallback data if we have no messages yet and component is still mounted\n                if (isMounted && messages.length === 0 && pendingMessages.length === 0) {\n                    setMessages([\n                        {\n                            id: 1,\n                            author: \"Abhishek Yadav\",\n                            content: \"Hi everyone, I created this discussion to talk about the upcoming project.\",\n                            timestamp: \"2 days ago\"\n                        },\n                        {\n                            id: 2,\n                            author: \"Daiwik Neema\",\n                            content: \"Thanks for setting this up! I have a few ideas I'd like to share.\",\n                            timestamp: \"1 day ago\"\n                        },\n                        {\n                            id: 3,\n                            author: \"Yang Liu\",\n                            content: \"I've been working on some designs that might be relevant here.\",\n                            timestamp: \"10 hours ago\"\n                        }\n                    ]);\n                    setSubDiscussions([\n                        {\n                            id: 1,\n                            title: \"UI Implementation Plan\",\n                            createdAt: \"1 day ago\",\n                            lastMessageAt: \"1 day ago\",\n                            messages: [],\n                            progress: 30\n                        }\n                    ]);\n                }\n            } finally{\n                if (isMounted) {\n                    setIsLoading(false);\n                }\n            }\n        };\n        // Initial data fetch\n        fetchData();\n        // Set up polling to refresh data every 10 seconds, but only for new messages\n        // not for re-rendering the entire component\n        if (pollingIntervalRef.current) {\n            clearInterval(pollingIntervalRef.current);\n        }\n        pollingIntervalRef.current = setInterval(()=>{\n            // Use the silent fetch option to avoid showing loading indicators during polling\n            fetchData(false);\n        }, 10000); // Increased to 10 seconds to reduce load\n        // Cleanup function to prevent memory leaks and state updates after unmount\n        return ()=>{\n            isMounted = false;\n            if (pollingIntervalRef.current) {\n                clearInterval(pollingIntervalRef.current);\n                pollingIntervalRef.current = null;\n            }\n            console.log(\"[DEBUG] DiscussionMessages cleanup - interval cleared for discussionId:\", discussionId);\n        };\n    }, [\n        discussionId\n    ]); // Only re-run when discussionId changes\n    const [selectedSubDiscussion, setSelectedSubDiscussion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isNewSubDiscussionOpen, setIsNewSubDiscussionOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [newSubDiscussionTitle, setNewSubDiscussionTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newMessage, setNewMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const handleNewSubDiscussion = ()=>{\n        setIsNewSubDiscussionOpen(true);\n    };\n    const handleCreateSubDiscussion = async ()=>{\n        if (newSubDiscussionTitle.trim()) {\n            try {\n                console.log(\"[DEBUG] Creating sub-discussion with discussionId:\", discussionId);\n                const response = await fetch(\"/api/subdiscussions\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"auth_token\") || \"default-token\")\n                    },\n                    body: JSON.stringify({\n                        discussionId: discussionId,\n                        title: newSubDiscussionTitle.trim()\n                    })\n                });\n                if (!response.ok) {\n                    throw new Error(\"Failed to create sub-discussion\");\n                }\n                const newSubDiscussion = await response.json();\n                // Add the new sub-discussion to the state\n                setSubDiscussions((prev)=>[\n                        ...prev,\n                        {\n                            id: newSubDiscussion.id,\n                            title: newSubDiscussion.title,\n                            createdAt: \"just now\",\n                            lastMessageAt: \"just now\",\n                            messages: [],\n                            progress: 0\n                        }\n                    ]);\n                setNewSubDiscussionTitle(\"\");\n                setIsNewSubDiscussionOpen(false);\n            } catch (error) {\n                console.error(\"Error creating sub-discussion:\", error);\n                // Fallback to client-side creation if API fails\n                setSubDiscussions((prev)=>[\n                        ...prev,\n                        {\n                            id: Date.now(),\n                            title: newSubDiscussionTitle.trim(),\n                            createdAt: \"just now\",\n                            lastMessageAt: \"just now\",\n                            messages: [],\n                            progress: 0\n                        }\n                    ]);\n                setNewSubDiscussionTitle(\"\");\n                setIsNewSubDiscussionOpen(false);\n            }\n        }\n    };\n    const handleSendMessage = async (e)=>{\n        e.preventDefault();\n        if (newMessage.trim()) {\n            // Create a temporary ID for the pending message\n            const tempId = \"temp-\".concat(Date.now());\n            // Create a pending message to show immediately\n            const pendingMessage = {\n                id: tempId,\n                author: (user === null || user === void 0 ? void 0 : user.full_name) || \"You\",\n                content: newMessage.trim(),\n                timestamp: \"just now\",\n                isPending: true\n            };\n            console.log(\"[DEBUG] Creating pending message:\", pendingMessage);\n            console.log(\"[DEBUG] Selected sub-discussion:\", selectedSubDiscussion ? selectedSubDiscussion.id : \"none\");\n            // Call onMessageSent callback to notify parent that a message was sent\n            if (!selectedSubDiscussion && onMessageSent) {\n                onMessageSent();\n            }\n            // Add the pending message to the UI immediately\n            if (selectedSubDiscussion) {\n                // Update the selected sub-discussion with the new message\n                const updatedSubDiscussion = {\n                    ...selectedSubDiscussion,\n                    messages: [\n                        ...selectedSubDiscussion.messages,\n                        pendingMessage\n                    ],\n                    lastMessageAt: \"just now\"\n                };\n                // Update the sub-discussion in the state\n                setSubDiscussions((prev)=>prev.map((sub)=>sub.id === selectedSubDiscussion.id ? updatedSubDiscussion : sub));\n                // Also update the selectedSubDiscussion state to show the message immediately\n                setSelectedSubDiscussion(updatedSubDiscussion);\n                console.log(\"[DEBUG] Added message to sub-discussion UI:\", updatedSubDiscussion.messages.length);\n            } else {\n                // Add to both messages and pendingMessages for main discussion\n                setMessages((prev)=>[\n                        ...prev,\n                        pendingMessage\n                    ]);\n                setPendingMessages((prev)=>[\n                        ...prev,\n                        pendingMessage\n                    ]);\n                console.log(\"[DEBUG] Added message to main discussion UI\");\n            }\n            // Clear the input field immediately\n            setNewMessage(\"\");\n            try {\n                // Send the message to the server\n                const response = await fetch(\"/api/messages\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"auth_token\") || \"default-token\")\n                    },\n                    body: JSON.stringify({\n                        discussion_id: discussionId,\n                        subdiscussion_id: (selectedSubDiscussion === null || selectedSubDiscussion === void 0 ? void 0 : selectedSubDiscussion.id) || null,\n                        content: pendingMessage.content,\n                        username: (user === null || user === void 0 ? void 0 : user.full_name) || \"Anonymous\"\n                    })\n                });\n                if (!response.ok) {\n                    throw new Error(\"Failed to send message\");\n                }\n                const newMessageData = await response.json();\n                console.log(\"[DEBUG] Message saved to server with ID:\", newMessageData.id);\n                // Update the pending message with the server ID\n                if (selectedSubDiscussion) {\n                    // Create updated messages array with the server ID\n                    const updatedMessages = selectedSubDiscussion.messages.map((msg)=>msg.id.toString() === tempId ? {\n                            ...msg,\n                            id: newMessageData.id,\n                            serverId: newMessageData.id,\n                            isPending: false\n                        } : msg);\n                    // Create updated sub-discussion object\n                    const updatedSubDiscussion = {\n                        ...selectedSubDiscussion,\n                        messages: updatedMessages,\n                        lastMessageAt: \"just now\"\n                    };\n                    // Update the sub-discussion in the state\n                    setSubDiscussions((prev)=>prev.map((sub)=>sub.id === selectedSubDiscussion.id ? updatedSubDiscussion : sub));\n                    // Also update the selectedSubDiscussion state to show the confirmed message\n                    setSelectedSubDiscussion(updatedSubDiscussion);\n                    console.log(\"[DEBUG] Updated sub-discussion messages with server ID:\", updatedMessages.length);\n                } else {\n                    // Update main discussion messages\n                    setMessages((prev)=>prev.map((msg)=>msg.id.toString() === tempId ? {\n                                ...msg,\n                                id: newMessageData.id,\n                                serverId: newMessageData.id,\n                                isPending: false\n                            } : msg));\n                    // Update the pending message in the pendingMessages array\n                    setPendingMessages((prev)=>prev.map((msg)=>msg.id.toString() === tempId ? {\n                                ...msg,\n                                id: newMessageData.id,\n                                serverId: newMessageData.id,\n                                isPending: false\n                            } : msg));\n                    console.log(\"[DEBUG] Updated main discussion messages with server ID\");\n                }\n            } catch (error) {\n                console.error(\"Error sending message:\", error);\n                // The message is already in the UI, so we don't need to add it again\n                // Just mark it as failed so the user knows it didn't send\n                if (selectedSubDiscussion) {\n                    setSubDiscussions((prev)=>prev.map((sub)=>sub.id === selectedSubDiscussion.id ? {\n                                ...sub,\n                                messages: sub.messages.map((msg)=>msg.id.toString() === tempId ? {\n                                        ...msg,\n                                        failed: true\n                                    } : msg)\n                            } : sub));\n                } else {\n                    setMessages((prev)=>prev.map((msg)=>msg.id.toString() === tempId ? {\n                                ...msg,\n                                failed: true\n                            } : msg));\n                }\n            }\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-6\",\n        children: [\n            isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center items-center py-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"\n                    }, void 0, false, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 485,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-2 text-gray-600\",\n                        children: \"Loading messages...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 486,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                lineNumber: 484,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                onClick: selectedSubDiscussion ? ()=>setSelectedSubDiscussion(null) : onBack,\n                                variant: \"outline\",\n                                className: \"text-gray-600 hover:text-gray-900\",\n                                children: \"← Back\"\n                            }, void 0, false, {\n                                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                lineNumber: 491,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-xl font-semibold text-gray-900\",\n                                        children: selectedSubDiscussion ? selectedSubDiscussion.title : discussionTitle\n                                    }, void 0, false, {\n                                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                        lineNumber: 499,\n                                        columnNumber: 13\n                                    }, this),\n                                    selectedSubDiscussion && selectedSubDiscussion.progress !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-600\",\n                                        children: [\n                                            \"Progress: \",\n                                            selectedSubDiscussion.progress,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                        lineNumber: 503,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                lineNumber: 498,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 490,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2\",\n                        children: !selectedSubDiscussion && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            onClick: handleNewSubDiscussion,\n                            className: \"bg-blue-600 hover:bg-blue-700 text-white\",\n                            children: \"+ New Sub-discussion\"\n                        }, void 0, false, {\n                            fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                            lineNumber: 511,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 509,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                lineNumber: 489,\n                columnNumber: 7\n            }, this),\n            !selectedSubDiscussion && subDiscussions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-medium text-gray-900 mb-3\",\n                        children: \"Sub-discussions\"\n                    }, void 0, false, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 523,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2\",\n                        children: subDiscussions.map((sub)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                onClick: ()=>setSelectedSubDiscussion(sub),\n                                className: \"p-3 border rounded-md hover:bg-blue-50 cursor-pointer transition-colors\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"font-medium text-gray-900\",\n                                        children: sub.title\n                                    }, void 0, false, {\n                                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-500\",\n                                        children: [\n                                            sub.messages.length,\n                                            \" messages • Last message \",\n                                            sub.lastMessageAt\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                        lineNumber: 532,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, sub.id, true, {\n                                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                lineNumber: 526,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 524,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                lineNumber: 522,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-4 mb-6 max-h-[600px] overflow-y-auto\",\n                children: (selectedSubDiscussion ? selectedSubDiscussion.messages : messages).map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex \".concat(message.author === (user === null || user === void 0 ? void 0 : user.full_name) ? \"justify-end\" : \"justify-start\"),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-xs sm:max-w-md md:max-w-lg rounded-lg p-3 \".concat(message.author === (user === null || user === void 0 ? void 0 : user.full_name) ? \"bg-blue-500 text-white rounded-br-none\" : \"bg-gray-100 text-gray-900 rounded-bl-none\"),\n                            children: [\n                                message.author !== (user === null || user === void 0 ? void 0 : user.full_name) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs font-medium text-gray-500 mb-1\",\n                                    children: message.author\n                                }, void 0, false, {\n                                    fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                    lineNumber: 557,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm\",\n                                    children: message.content\n                                }, void 0, false, {\n                                    fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                    lineNumber: 561,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs mt-1 \".concat(message.author === (user === null || user === void 0 ? void 0 : user.full_name) ? \"text-blue-100\" : \"text-gray-500\"),\n                                    children: [\n                                        message.timestamp,\n                                        message.isPending && \" • Sending...\",\n                                        message.failed && \" • Failed to send\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                    lineNumber: 562,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                            lineNumber: 549,\n                            columnNumber: 13\n                        }, this)\n                    }, message.id, false, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 543,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                lineNumber: 541,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSendMessage,\n                className: \"p-4 border-t\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex space-x-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: newMessage,\n                            onChange: (e)=>setNewMessage(e.target.value),\n                            placeholder: \"Type your message...\",\n                            className: \"flex-1 rounded-full border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                        }, void 0, false, {\n                            fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                            lineNumber: 576,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"submit\",\n                            className: \"bg-indigo-600 text-white px-4 py-2 rounded-full hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\",\n                            children: \"Send\"\n                        }, void 0, false, {\n                            fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                            lineNumber: 583,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                    lineNumber: 575,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                lineNumber: 574,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_popup__WEBPACK_IMPORTED_MODULE_4__.Dialog, {\n                open: isNewSubDiscussionOpen,\n                onOpenChange: setIsNewSubDiscussionOpen,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_popup__WEBPACK_IMPORTED_MODULE_4__.DialogHeader, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_popup__WEBPACK_IMPORTED_MODULE_4__.DialogTitle, {\n                            children: \"Create New Sub-discussion\"\n                        }, void 0, false, {\n                            fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                            lineNumber: 594,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 593,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_popup__WEBPACK_IMPORTED_MODULE_4__.DialogContent, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4 py-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block text-sm font-medium text-gray-700 mb-1\",\n                                        children: \"Sub-discussion Title\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                        lineNumber: 599,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                        value: newSubDiscussionTitle,\n                                        onChange: (e)=>setNewSubDiscussionTitle(e.target.value),\n                                        placeholder: \"Enter sub-discussion title...\",\n                                        className: \"w-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                        lineNumber: 602,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                lineNumber: 598,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                            lineNumber: 597,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 596,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_popup__WEBPACK_IMPORTED_MODULE_4__.DialogFooter, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                variant: \"secondary\",\n                                onClick: ()=>setIsNewSubDiscussionOpen(false),\n                                children: \"Cancel\"\n                            }, void 0, false, {\n                                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                lineNumber: 612,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                onClick: handleCreateSubDiscussion,\n                                className: \"bg-blue-600 hover:bg-blue-700 text-white\",\n                                disabled: !newSubDiscussionTitle.trim(),\n                                children: \"Create Sub-discussion\"\n                            }, void 0, false, {\n                                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                                lineNumber: 618,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                        lineNumber: 611,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n                lineNumber: 592,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/abhishekyadav/Desktop/INFO2222/INFO2222_PROJECT_PHASE1/Threadflow_Main/src/components/DiscussionMessages.tsx\",\n        lineNumber: 482,\n        columnNumber: 5\n    }, this);\n}\n_s(DiscussionMessages, \"lZeoeJy54AhqKIuN/2qN7yqxWXM=\", false, function() {\n    return [\n        _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth\n    ];\n});\n_c = DiscussionMessages;\nvar _c;\n$RefreshReg$(_c, \"DiscussionMessages\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0Rpc2N1c3Npb25NZXNzYWdlcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUVvRDtBQUNmO0FBQ0Y7QUFDeUQ7QUFDM0M7QUE0QmxDLFNBQVNXLG1CQUFtQixLQUFpRjtRQUFqRixFQUFFQyxZQUFZLEVBQUVDLGVBQWUsRUFBRUMsTUFBTSxFQUFFQyxhQUFhLEVBQTJCLEdBQWpGOztJQUN6Q0MsUUFBUUMsR0FBRyxDQUFDLHVFQUF1RUw7SUFDbkYsTUFBTSxFQUFFTSxJQUFJLEVBQUUsR0FBR1IsOERBQU9BO0lBQ3hCTSxRQUFRQyxHQUFHLENBQUMsd0RBQXdEQztJQUVwRSxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR3BCLCtDQUFRQSxDQUFZLEVBQUU7SUFDdEQsTUFBTSxDQUFDcUIsZ0JBQWdCQyxrQkFBa0IsR0FBR3RCLCtDQUFRQSxDQUFrQixFQUFFO0lBQ3hFLE1BQU0sQ0FBQ3VCLFdBQVdDLGFBQWEsR0FBR3hCLCtDQUFRQSxDQUFDO0lBRTNDLGtDQUFrQztJQUNsQyxNQUFNeUIsYUFBYSxDQUFDQztRQUNsQixNQUFNQyxNQUFNLElBQUlDO1FBQ2hCLE1BQU1DLGdCQUFnQkMsS0FBS0MsS0FBSyxDQUFDLENBQUNKLElBQUlLLE9BQU8sS0FBS04sS0FBS00sT0FBTyxFQUFDLElBQUs7UUFFcEUsSUFBSUgsZ0JBQWdCLElBQUk7WUFDdEIsT0FBTztRQUNULE9BQU8sSUFBSUEsZ0JBQWdCLE1BQU07WUFDL0IsTUFBTUksVUFBVUgsS0FBS0MsS0FBSyxDQUFDRixnQkFBZ0I7WUFDM0MsT0FBTyxHQUFjSSxPQUFYQSxTQUFRLEtBQXdDLE9BQXJDQSxZQUFZLElBQUksV0FBVyxXQUFVO1FBQzVELE9BQU8sSUFBSUosZ0JBQWdCLE9BQU87WUFDaEMsTUFBTUssUUFBUUosS0FBS0MsS0FBSyxDQUFDRixnQkFBZ0I7WUFDekMsT0FBTyxHQUFZSyxPQUFUQSxPQUFNLEtBQWtDLE9BQS9C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QndCakc7O1FBRUxELDBEQUFPQTs7O0tBRkZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0Rpc2N1c3Npb25NZXNzYWdlcy50c3g/YWU2NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4vdWkvYnV0dG9uJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi91aS9pbnB1dCc7XG5pbXBvcnQgeyBEaWFsb2csIERpYWxvZ0hlYWRlciwgRGlhbG9nVGl0bGUsIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0Zvb3RlciB9IGZyb20gJy4vdWkvcG9wdXAnO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xuXG5pbnRlcmZhY2UgRGlzY3Vzc2lvbk1lc3NhZ2VzUHJvcHMge1xuICBkaXNjdXNzaW9uSWQ6IG51bWJlcjtcbiAgZGlzY3Vzc2lvblRpdGxlOiBzdHJpbmc7XG4gIG9uQmFjazogKCkgPT4gdm9pZDtcbiAgb25NZXNzYWdlU2VudD86ICgpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgaWQ6IG51bWJlciB8IHN0cmluZztcbiAgYXV0aG9yOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIHNlcnZlcklkPzogbnVtYmVyO1xuICBpc1BlbmRpbmc/OiBib29sZWFuO1xuICBmYWlsZWQ/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgU3ViRGlzY3Vzc2lvbiB7XG4gIGlkOiBudW1iZXI7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBsYXN0TWVzc2FnZUF0OiBzdHJpbmc7XG4gIG1lc3NhZ2VzOiBNZXNzYWdlW107XG4gIHByb2dyZXNzPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaXNjdXNzaW9uTWVzc2FnZXMoeyBkaXNjdXNzaW9uSWQsIGRpc2N1c3Npb25UaXRsZSwgb25CYWNrLCBvbk1lc3NhZ2VTZW50IH06IERpc2N1c3Npb25NZXNzYWdlc1Byb3BzKSB7XG4gIGNvbnNvbGUubG9nKCdbREVCVUddIERpc2N1c3Npb25NZXNzYWdlcyBjb21wb25lbnQgaW5pdGlhbGl6ZWQgd2l0aCBkaXNjdXNzaW9uSWQ6JywgZGlzY3Vzc2lvbklkKTtcbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnNvbGUubG9nKCdbREVCVUddIFVzZXIgZnJvbSBBdXRoQ29udGV4dCBpbiBEaXNjdXNzaW9uTWVzc2FnZXM6JywgdXNlcik7XG4gIFxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbc3ViRGlzY3Vzc2lvbnMsIHNldFN1YkRpc2N1c3Npb25zXSA9IHVzZVN0YXRlPFN1YkRpc2N1c3Npb25bXT4oW10pO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZm9ybWF0IGRhdGVzXG4gIGNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZTogRGF0ZSk6IHN0cmluZyA9PiB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkaWZmSW5TZWNvbmRzID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZSgpKSAvIDEwMDApO1xuICAgIFxuICAgIGlmIChkaWZmSW5TZWNvbmRzIDwgNjApIHtcbiAgICAgIHJldHVybiAnanVzdCBub3cnO1xuICAgIH0gZWxzZSBpZiAoZGlmZkluU2Vjb25kcyA8IDM2MDApIHtcbiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGRpZmZJblNlY29uZHMgLyA2MCk7XG4gICAgICByZXR1cm4gYCR7bWludXRlc30gJHttaW51dGVzID09PSAxID8gJ21pbnV0ZScgOiAnbWludXRlcyd9IGFnb2A7XG4gICAgfSBlbHNlIGlmIChkaWZmSW5TZWNvbmRzIDwgODY0MDApIHtcbiAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkaWZmSW5TZWNvbmRzIC8gMzYwMCk7XG4gICAgICByZXR1cm4gYCR7aG91cnN9ICR7aG91cnMgPT09IDEgPyAnaG91cicgOiAnaG91cnMnfSBhZ29gO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihkaWZmSW5TZWNvbmRzIC8gODY0MDApO1xuICAgICAgcmV0dXJuIGAke2RheXN9ICR7ZGF5cyA9PT0gMSA/ICdkYXknIDogJ2RheXMnfSBhZ29gO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIFRyYWNrIGxvY2FsbHkgYWRkZWQgbWVzc2FnZXMgdGhhdCBoYXZlbid0IGJlZW4gY29uZmlybWVkIGZyb20gdGhlIHNlcnZlciB5ZXRcbiAgY29uc3QgW3BlbmRpbmdNZXNzYWdlcywgc2V0UGVuZGluZ01lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xuICBcbiAgLy8gVXNlIGEgcmVmIHRvIHN0b3JlIHRoZSBwb2xsaW5nIGludGVydmFsIElEXG4gIGNvbnN0IHBvbGxpbmdJbnRlcnZhbFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gRmV0Y2ggbWVzc2FnZXMgYW5kIHN1Yi1kaXNjdXNzaW9ucyBmcm9tIHRoZSBzZXJ2ZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnW0RFQlVHXSBEaXNjdXNzaW9uTWVzc2FnZXMgdXNlRWZmZWN0IHJ1bm5pbmcgZm9yIGRpc2N1c3Npb25JZDonLCBkaXNjdXNzaW9uSWQpO1xuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlOyAvLyBUcmFjayBpZiBjb21wb25lbnQgaXMgbW91bnRlZFxuICAgIFxuICAgIC8vIEZ1bmN0aW9uIHRvIGZldGNoIGRhdGEgd2l0aG91dCBzZXR0aW5nIHVwIHBvbGxpbmdcbiAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoc2hvd0xvYWRpbmcgPSB0cnVlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnW0RFQlVHXSBEaXNjdXNzaW9uTWVzc2FnZXMgZmV0Y2hEYXRhIGZ1bmN0aW9uIGNhbGxlZCcpO1xuICAgICAgaWYgKCFpc01vdW50ZWQpIHJldHVybjsgLy8gRG9uJ3QgcHJvY2VlZCBpZiBjb21wb25lbnQgaXMgdW5tb3VudGVkXG4gICAgICBcbiAgICAgIGlmIChwZW5kaW5nTWVzc2FnZXMubGVuZ3RoID4gMCB8fCAhc2hvd0xvYWRpbmcpIHtcbiAgICAgICAgLy8gRG9uJ3Qgc2hvdyBsb2FkaW5nIGluZGljYXRvciB3aGVuIHdlIGhhdmUgcGVuZGluZyBtZXNzYWdlc1xuICAgICAgICAvLyBvciB3aGVuIGV4cGxpY2l0bHkgcmVxdWVzdGVkIG5vdCB0b1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnW0RFQlVHXSBGZXRjaGluZyBtZXNzYWdlcyBhbmQgc3ViZGlzY3Vzc2lvbnMgZnJvbSBBUEknKTtcbiAgICAgICAgLy8gRmV0Y2ggbWVzc2FnZXMgZm9yIHRoZSBjdXJyZW50IGRpc2N1c3Npb25cbiAgICAgICAgY29uc3QgbWVzc2FnZXNSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL21lc3NhZ2VzP2Rpc2N1c3Npb25JZD0ke2Rpc2N1c3Npb25JZH1gKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tERUJVR10gTWVzc2FnZXMgQVBJIHJlc3BvbnNlIHN0YXR1czonLCBtZXNzYWdlc1Jlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzdWJEaXNjdXNzaW9uc1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc3ViZGlzY3Vzc2lvbnM/ZGlzY3Vzc2lvbklkPSR7ZGlzY3Vzc2lvbklkfWApO1xuICAgICAgICBjb25zb2xlLmxvZygnW0RFQlVHXSBTdWJkaXNjdXNzaW9ucyBBUEkgcmVzcG9uc2Ugc3RhdHVzOicsIHN1YkRpc2N1c3Npb25zUmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47IC8vIERvbid0IHByb2NlZWQgaWYgY29tcG9uZW50IGlzIHVubW91bnRlZFxuICAgICAgICBcbiAgICAgICAgaWYgKCFtZXNzYWdlc1Jlc3BvbnNlLm9rIHx8ICFzdWJEaXNjdXNzaW9uc1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW0RFQlVHXSBBUEkgcmVzcG9uc2Ugbm90IE9LIC0gTWVzc2FnZXM6JywgbWVzc2FnZXNSZXNwb25zZS5zdGF0dXMsIG1lc3NhZ2VzUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignW0RFQlVHXSBBUEkgcmVzcG9uc2Ugbm90IE9LIC0gU3ViZGlzY3Vzc2lvbnM6Jywgc3ViRGlzY3Vzc2lvbnNSZXNwb25zZS5zdGF0dXMsIHN1YkRpc2N1c3Npb25zUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggZGF0YScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBtZXNzYWdlc0RhdGEgPSBhd2FpdCBtZXNzYWdlc1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3Qgc3ViRGlzY3Vzc2lvbnNEYXRhID0gYXdhaXQgc3ViRGlzY3Vzc2lvbnNSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuOyAvLyBEb24ndCBwcm9jZWVkIGlmIGNvbXBvbmVudCBpcyB1bm1vdW50ZWRcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIFJhdyBtZXNzYWdlcyBkYXRhOicsIG1lc3NhZ2VzRGF0YSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTZXBhcmF0ZSBtZXNzYWdlcyBpbnRvIG1haW4gZGlzY3Vzc2lvbiBtZXNzYWdlcyBhbmQgc3ViLWRpc2N1c3Npb24gbWVzc2FnZXNcbiAgICAgICAgY29uc3QgbWFpbkRpc2N1c3Npb25NZXNzYWdlczogTWVzc2FnZVtdID0gW107XG4gICAgICAgIGNvbnN0IHN1YkRpc2N1c3Npb25NZXNzYWdlc01hcCA9IG5ldyBNYXA8bnVtYmVyLCBNZXNzYWdlW10+KCk7XG4gICAgICAgIFxuICAgICAgICAvLyBQcm9jZXNzIGFsbCBtZXNzYWdlc1xuICAgICAgICBtZXNzYWdlc0RhdGEuZm9yRWFjaCgobTogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgZm9ybWF0dGVkTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIGlkOiBtLmlkLFxuICAgICAgICAgICAgYXV0aG9yOiBtLmF1dGhvcixcbiAgICAgICAgICAgIGNvbnRlbnQ6IG0uY29udGVudCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZm9ybWF0RGF0ZShuZXcgRGF0ZShtLmNyZWF0ZWRfYXQpKSxcbiAgICAgICAgICAgIHNlcnZlcklkOiBtLmlkIC8vIFN0b3JlIHRoZSBzZXJ2ZXIgSUQgZm9yIHJlZmVyZW5jZVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG0uc3ViZGlzY3Vzc2lvbl9pZCkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHN1Yi1kaXNjdXNzaW9uIG1lc3NhZ2VcbiAgICAgICAgICAgIGNvbnN0IHN1YklkID0gbS5zdWJkaXNjdXNzaW9uX2lkO1xuICAgICAgICAgICAgaWYgKCFzdWJEaXNjdXNzaW9uTWVzc2FnZXNNYXAuaGFzKHN1YklkKSkge1xuICAgICAgICAgICAgICBzdWJEaXNjdXNzaW9uTWVzc2FnZXNNYXAuc2V0KHN1YklkLCBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJEaXNjdXNzaW9uTWVzc2FnZXNNYXAuZ2V0KHN1YklkKT8ucHVzaChmb3JtYXR0ZWRNZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbREVCVUddIEFkZGVkIG1lc3NhZ2UgdG8gc3ViLWRpc2N1c3Npb24gJHtzdWJJZH06YCwgZm9ybWF0dGVkTWVzc2FnZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtYWluIGRpc2N1c3Npb24gbWVzc2FnZVxuICAgICAgICAgICAgbWFpbkRpc2N1c3Npb25NZXNzYWdlcy5wdXNoKGZvcm1hdHRlZE1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcmFuc2Zvcm0gc3ViLWRpc2N1c3Npb25zIGRhdGEgYW5kIGFzc29jaWF0ZSBtZXNzYWdlc1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRTdWJEaXNjdXNzaW9ucyA9IHN1YkRpc2N1c3Npb25zRGF0YS5tYXAoKHM6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN1Yk1lc3NhZ2VzID0gc3ViRGlzY3Vzc2lvbk1lc3NhZ2VzTWFwLmdldChzLmlkKSB8fCBbXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW0RFQlVHXSBTdWItZGlzY3Vzc2lvbiAke3MuaWR9IGhhcyAke3N1Yk1lc3NhZ2VzLmxlbmd0aH0gbWVzc2FnZXNgKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGxhc3QgbWVzc2FnZSB0aW1lc3RhbXBcbiAgICAgICAgICBsZXQgbGFzdE1lc3NhZ2VUaW1lID0gcy5jcmVhdGVkX2F0O1xuICAgICAgICAgIGlmIChzdWJNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBtb3N0IHJlY2VudCBtZXNzYWdlIHRpbWVzdGFtcCBieSBsb29raW5nIGF0IGFsbCBtZXNzYWdlc1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGZhbGxiYWNrIGluIGNhc2UgdGhlIG1lc3NhZ2VzIGFyZW4ndCBhbHJlYWR5IHNvcnRlZFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2VUaW1lID0gc3ViTWVzc2FnZXMucmVkdWNlKChsYXRlc3QsIG1zZykgPT4ge1xuICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIG1lc3NhZ2UgdGltZXN0YW1wIGlzIG1vcmUgcmVjZW50XG4gICAgICAgICAgICAgIGNvbnN0IG1zZ1RpbWUgPSBuZXcgRGF0ZShtc2cudGltZXN0YW1wKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgIHJldHVybiBtc2dUaW1lID4gbGF0ZXN0ID8gbXNnVGltZSA6IGxhdGVzdDtcbiAgICAgICAgICAgIH0sIG5ldyBEYXRlKHMuY3JlYXRlZF9hdCkuZ2V0VGltZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBzLmlkLFxuICAgICAgICAgICAgdGl0bGU6IHMudGl0bGUsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IGZvcm1hdERhdGUobmV3IERhdGUocy5jcmVhdGVkX2F0KSksXG4gICAgICAgICAgICBsYXN0TWVzc2FnZUF0OiBmb3JtYXREYXRlKG5ldyBEYXRlKGxhc3RNZXNzYWdlVGltZSkpLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHN1Yk1lc3NhZ2VzLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IHMucHJvZ3Jlc3MgfHwgMFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IG1haW4gZGlzY3Vzc2lvbiBtZXNzYWdlc1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRNZXNzYWdlcyA9IG1haW5EaXNjdXNzaW9uTWVzc2FnZXM7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgc2VsZWN0ZWQgc3ViLWRpc2N1c3Npb24sIHVwZGF0ZSBpdHMgbWVzc2FnZXNcbiAgICAgICAgaWYgKHNlbGVjdGVkU3ViRGlzY3Vzc2lvbikge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTdWJEaXNjdXNzaW9uID0gZm9ybWF0dGVkU3ViRGlzY3Vzc2lvbnMuZmluZCgoc2Q6IFN1YkRpc2N1c3Npb24pID0+IHNkLmlkID09PSBzZWxlY3RlZFN1YkRpc2N1c3Npb24uaWQpO1xuICAgICAgICAgIGlmICh1cGRhdGVkU3ViRGlzY3Vzc2lvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFtERUJVR10gVXBkYXRpbmcgc2VsZWN0ZWQgc3ViLWRpc2N1c3Npb24gJHtzZWxlY3RlZFN1YkRpc2N1c3Npb24uaWR9IHdpdGggJHt1cGRhdGVkU3ViRGlzY3Vzc2lvbi5tZXNzYWdlcy5sZW5ndGh9IG1lc3NhZ2VzYCk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlbGVjdGVkIHN1Yi1kaXNjdXNzaW9uIHdpdGggbmV3IG1lc3NhZ2VzIGZyb20gdGhlIHNlcnZlclxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRTdWJEaXNjdXNzaW9uKHVwZGF0ZWRTdWJEaXNjdXNzaW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIGFueSBwZW5kaW5nIG1lc3NhZ2VzIGhhdmUgYmVlbiBjb25maXJtZWQgYnkgdGhlIHNlcnZlclxuICAgICAgICBjb25zdCBjb25maXJtZWRNZXNzYWdlSWRzID0gZm9ybWF0dGVkTWVzc2FnZXMubWFwKChtOiBNZXNzYWdlKSA9PiBtLnNlcnZlcklkKTtcbiAgICAgICAgY29uc3Qgc3RpbGxQZW5kaW5nTWVzc2FnZXMgPSBwZW5kaW5nTWVzc2FnZXMuZmlsdGVyKHBtID0+IHtcbiAgICAgICAgICAvLyBLZWVwIG1lc3NhZ2VzIHRoYXQgZG9uJ3QgaGF2ZSBhIHNlcnZlciBJRCB5ZXQgb3Igd2hvc2UgSUQgaXNuJ3QgaW4gdGhlIGNvbmZpcm1lZCBsaXN0XG4gICAgICAgICAgcmV0dXJuICFwbS5zZXJ2ZXJJZCB8fCAhY29uZmlybWVkTWVzc2FnZUlkcy5pbmNsdWRlcyhwbS5zZXJ2ZXJJZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29tYmluZSBzZXJ2ZXIgbWVzc2FnZXMgd2l0aCBhbnkgcGVuZGluZyBtZXNzYWdlcyB0aGF0IGhhdmVuJ3QgYmVlbiBjb25maXJtZWQgeWV0XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkTWVzc2FnZXMgPSBbLi4uZm9ybWF0dGVkTWVzc2FnZXMsIC4uLnN0aWxsUGVuZGluZ01lc3NhZ2VzXTtcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47IC8vIERvbid0IHByb2NlZWQgaWYgY29tcG9uZW50IGlzIHVubW91bnRlZFxuICAgICAgICBcbiAgICAgICAgc2V0TWVzc2FnZXMoY29tYmluZWRNZXNzYWdlcyk7XG4gICAgICAgIHNldFBlbmRpbmdNZXNzYWdlcyhzdGlsbFBlbmRpbmdNZXNzYWdlcyk7XG4gICAgICAgIHNldFN1YkRpc2N1c3Npb25zKGZvcm1hdHRlZFN1YkRpc2N1c3Npb25zKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tERUJVR10gRXJyb3IgZmV0Y2hpbmcgZGF0YTonLCBlcnJvcik7XG4gICAgICAgIC8vIE9ubHkgdXNlIGZhbGxiYWNrIGRhdGEgaWYgd2UgaGF2ZSBubyBtZXNzYWdlcyB5ZXQgYW5kIGNvbXBvbmVudCBpcyBzdGlsbCBtb3VudGVkXG4gICAgICAgIGlmIChpc01vdW50ZWQgJiYgbWVzc2FnZXMubGVuZ3RoID09PSAwICYmIHBlbmRpbmdNZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBzZXRNZXNzYWdlcyhbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgICBhdXRob3I6ICdBYmhpc2hlayBZYWRhdicsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICdIaSBldmVyeW9uZSwgSSBjcmVhdGVkIHRoaXMgZGlzY3Vzc2lvbiB0byB0YWxrIGFib3V0IHRoZSB1cGNvbWluZyBwcm9qZWN0LicsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogJzIgZGF5cyBhZ28nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IDIsXG4gICAgICAgICAgICAgIGF1dGhvcjogJ0RhaXdpayBOZWVtYScsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICdUaGFua3MgZm9yIHNldHRpbmcgdGhpcyB1cCEgSSBoYXZlIGEgZmV3IGlkZWFzIElcXCdkIGxpa2UgdG8gc2hhcmUuJyxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiAnMSBkYXkgYWdvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAzLFxuICAgICAgICAgICAgICBhdXRob3I6ICdZYW5nIExpdScsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICdJXFwndmUgYmVlbiB3b3JraW5nIG9uIHNvbWUgZGVzaWducyB0aGF0IG1pZ2h0IGJlIHJlbGV2YW50IGhlcmUuJyxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiAnMTAgaG91cnMgYWdvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0U3ViRGlzY3Vzc2lvbnMoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgdGl0bGU6IFwiVUkgSW1wbGVtZW50YXRpb24gUGxhblwiLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IFwiMSBkYXkgYWdvXCIsXG4gICAgICAgICAgICAgIGxhc3RNZXNzYWdlQXQ6IFwiMSBkYXkgYWdvXCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDMwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsIGRhdGEgZmV0Y2hcbiAgICBmZXRjaERhdGEoKTtcbiAgICBcbiAgICAvLyBTZXQgdXAgcG9sbGluZyB0byByZWZyZXNoIGRhdGEgZXZlcnkgMTAgc2Vjb25kcywgYnV0IG9ubHkgZm9yIG5ldyBtZXNzYWdlc1xuICAgIC8vIG5vdCBmb3IgcmUtcmVuZGVyaW5nIHRoZSBlbnRpcmUgY29tcG9uZW50XG4gICAgaWYgKHBvbGxpbmdJbnRlcnZhbFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhckludGVydmFsKHBvbGxpbmdJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgXG4gICAgcG9sbGluZ0ludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAvLyBVc2UgdGhlIHNpbGVudCBmZXRjaCBvcHRpb24gdG8gYXZvaWQgc2hvd2luZyBsb2FkaW5nIGluZGljYXRvcnMgZHVyaW5nIHBvbGxpbmdcbiAgICAgIGZldGNoRGF0YShmYWxzZSk7XG4gICAgfSwgMTAwMDApOyAvLyBJbmNyZWFzZWQgdG8gMTAgc2Vjb25kcyB0byByZWR1Y2UgbG9hZFxuICAgIFxuICAgIC8vIENsZWFudXAgZnVuY3Rpb24gdG8gcHJldmVudCBtZW1vcnkgbGVha3MgYW5kIHN0YXRlIHVwZGF0ZXMgYWZ0ZXIgdW5tb3VudFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChwb2xsaW5nSW50ZXJ2YWxSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhckludGVydmFsKHBvbGxpbmdJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgcG9sbGluZ0ludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coJ1tERUJVR10gRGlzY3Vzc2lvbk1lc3NhZ2VzIGNsZWFudXAgLSBpbnRlcnZhbCBjbGVhcmVkIGZvciBkaXNjdXNzaW9uSWQ6JywgZGlzY3Vzc2lvbklkKTtcbiAgICB9O1xuICB9LCBbZGlzY3Vzc2lvbklkXSk7IC8vIE9ubHkgcmUtcnVuIHdoZW4gZGlzY3Vzc2lvbklkIGNoYW5nZXNcbiAgXG4gIGNvbnN0IFtzZWxlY3RlZFN1YkRpc2N1c3Npb24sIHNldFNlbGVjdGVkU3ViRGlzY3Vzc2lvbl0gPSB1c2VTdGF0ZTxTdWJEaXNjdXNzaW9uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc05ld1N1YkRpc2N1c3Npb25PcGVuLCBzZXRJc05ld1N1YkRpc2N1c3Npb25PcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW25ld1N1YkRpc2N1c3Npb25UaXRsZSwgc2V0TmV3U3ViRGlzY3Vzc2lvblRpdGxlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbmV3TWVzc2FnZSwgc2V0TmV3TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIFxuICBjb25zdCBoYW5kbGVOZXdTdWJEaXNjdXNzaW9uID0gKCkgPT4ge1xuICAgIHNldElzTmV3U3ViRGlzY3Vzc2lvbk9wZW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ3JlYXRlU3ViRGlzY3Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAobmV3U3ViRGlzY3Vzc2lvblRpdGxlLnRyaW0oKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tERUJVR10gQ3JlYXRpbmcgc3ViLWRpc2N1c3Npb24gd2l0aCBkaXNjdXNzaW9uSWQ6JywgZGlzY3Vzc2lvbklkKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zdWJkaXNjdXNzaW9ucycsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKSB8fCAnZGVmYXVsdC10b2tlbid9YCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGRpc2N1c3Npb25JZDogZGlzY3Vzc2lvbklkLFxuICAgICAgICAgICAgdGl0bGU6IG5ld1N1YkRpc2N1c3Npb25UaXRsZS50cmltKClcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBzdWItZGlzY3Vzc2lvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV3U3ViRGlzY3Vzc2lvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IHN1Yi1kaXNjdXNzaW9uIHRvIHRoZSBzdGF0ZVxuICAgICAgICBzZXRTdWJEaXNjdXNzaW9ucyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgICAgaWQ6IG5ld1N1YkRpc2N1c3Npb24uaWQsXG4gICAgICAgICAgdGl0bGU6IG5ld1N1YkRpc2N1c3Npb24udGl0bGUsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnanVzdCBub3cnLFxuICAgICAgICAgIGxhc3RNZXNzYWdlQXQ6ICdqdXN0IG5vdycsXG4gICAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICAgIHByb2dyZXNzOiAwXG4gICAgICAgIH1dKTtcbiAgICAgICAgXG4gICAgICAgIHNldE5ld1N1YkRpc2N1c3Npb25UaXRsZSgnJyk7XG4gICAgICAgIHNldElzTmV3U3ViRGlzY3Vzc2lvbk9wZW4oZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgc3ViLWRpc2N1c3Npb246JywgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gY2xpZW50LXNpZGUgY3JlYXRpb24gaWYgQVBJIGZhaWxzXG4gICAgICAgIHNldFN1YkRpc2N1c3Npb25zKHByZXYgPT4gWy4uLnByZXYsIHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKSwgLy8gVXNlIHRpbWVzdGFtcCBhcyB0ZW1wb3JhcnkgSURcbiAgICAgICAgICB0aXRsZTogbmV3U3ViRGlzY3Vzc2lvblRpdGxlLnRyaW0oKSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IFwianVzdCBub3dcIixcbiAgICAgICAgICBsYXN0TWVzc2FnZUF0OiBcImp1c3Qgbm93XCIsXG4gICAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICAgIHByb2dyZXNzOiAwXG4gICAgICAgIH1dKTtcbiAgICAgICAgXG4gICAgICAgIHNldE5ld1N1YkRpc2N1c3Npb25UaXRsZSgnJyk7XG4gICAgICAgIHNldElzTmV3U3ViRGlzY3Vzc2lvbk9wZW4oZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKG5ld01lc3NhZ2UudHJpbSgpKSB7XG4gICAgICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgSUQgZm9yIHRoZSBwZW5kaW5nIG1lc3NhZ2VcbiAgICAgIGNvbnN0IHRlbXBJZCA9IGB0ZW1wLSR7RGF0ZS5ub3coKX1gO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBwZW5kaW5nIG1lc3NhZ2UgdG8gc2hvdyBpbW1lZGlhdGVseVxuICAgICAgY29uc3QgcGVuZGluZ01lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiB0ZW1wSWQsXG4gICAgICAgIGF1dGhvcjogdXNlcj8uZnVsbF9uYW1lIHx8ICdZb3UnLFxuICAgICAgICBjb250ZW50OiBuZXdNZXNzYWdlLnRyaW0oKSxcbiAgICAgICAgdGltZXN0YW1wOiAnanVzdCBub3cnLFxuICAgICAgICBpc1BlbmRpbmc6IHRydWVcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIENyZWF0aW5nIHBlbmRpbmcgbWVzc2FnZTonLCBwZW5kaW5nTWVzc2FnZSk7XG4gICAgICBjb25zb2xlLmxvZygnW0RFQlVHXSBTZWxlY3RlZCBzdWItZGlzY3Vzc2lvbjonLCBzZWxlY3RlZFN1YkRpc2N1c3Npb24gPyBzZWxlY3RlZFN1YkRpc2N1c3Npb24uaWQgOiAnbm9uZScpO1xuICAgICAgXG4gICAgICAvLyBDYWxsIG9uTWVzc2FnZVNlbnQgY2FsbGJhY2sgdG8gbm90aWZ5IHBhcmVudCB0aGF0IGEgbWVzc2FnZSB3YXMgc2VudFxuICAgICAgaWYgKCFzZWxlY3RlZFN1YkRpc2N1c3Npb24gJiYgb25NZXNzYWdlU2VudCkge1xuICAgICAgICBvbk1lc3NhZ2VTZW50KCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFkZCB0aGUgcGVuZGluZyBtZXNzYWdlIHRvIHRoZSBVSSBpbW1lZGlhdGVseVxuICAgICAgaWYgKHNlbGVjdGVkU3ViRGlzY3Vzc2lvbikge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHNlbGVjdGVkIHN1Yi1kaXNjdXNzaW9uIHdpdGggdGhlIG5ldyBtZXNzYWdlXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTdWJEaXNjdXNzaW9uID0ge1xuICAgICAgICAgIC4uLnNlbGVjdGVkU3ViRGlzY3Vzc2lvbixcbiAgICAgICAgICBtZXNzYWdlczogWy4uLnNlbGVjdGVkU3ViRGlzY3Vzc2lvbi5tZXNzYWdlcywgcGVuZGluZ01lc3NhZ2VdLFxuICAgICAgICAgIGxhc3RNZXNzYWdlQXQ6ICdqdXN0IG5vdydcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgc3ViLWRpc2N1c3Npb24gaW4gdGhlIHN0YXRlXG4gICAgICAgIHNldFN1YkRpc2N1c3Npb25zKHByZXYgPT4gcHJldi5tYXAoc3ViID0+IFxuICAgICAgICAgIHN1Yi5pZCA9PT0gc2VsZWN0ZWRTdWJEaXNjdXNzaW9uLmlkID8gdXBkYXRlZFN1YkRpc2N1c3Npb24gOiBzdWJcbiAgICAgICAgKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgc2VsZWN0ZWRTdWJEaXNjdXNzaW9uIHN0YXRlIHRvIHNob3cgdGhlIG1lc3NhZ2UgaW1tZWRpYXRlbHlcbiAgICAgICAgc2V0U2VsZWN0ZWRTdWJEaXNjdXNzaW9uKHVwZGF0ZWRTdWJEaXNjdXNzaW9uKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1tERUJVR10gQWRkZWQgbWVzc2FnZSB0byBzdWItZGlzY3Vzc2lvbiBVSTonLCB1cGRhdGVkU3ViRGlzY3Vzc2lvbi5tZXNzYWdlcy5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWRkIHRvIGJvdGggbWVzc2FnZXMgYW5kIHBlbmRpbmdNZXNzYWdlcyBmb3IgbWFpbiBkaXNjdXNzaW9uXG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHBlbmRpbmdNZXNzYWdlXSk7XG4gICAgICAgIHNldFBlbmRpbmdNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBwZW5kaW5nTWVzc2FnZV0pO1xuICAgICAgICBjb25zb2xlLmxvZygnW0RFQlVHXSBBZGRlZCBtZXNzYWdlIHRvIG1haW4gZGlzY3Vzc2lvbiBVSScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbGVhciB0aGUgaW5wdXQgZmllbGQgaW1tZWRpYXRlbHlcbiAgICAgIHNldE5ld01lc3NhZ2UoJycpO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBTZW5kIHRoZSBtZXNzYWdlIHRvIHRoZSBzZXJ2ZXJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9tZXNzYWdlcycsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKSB8fCAnZGVmYXVsdC10b2tlbid9YCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGRpc2N1c3Npb25faWQ6IGRpc2N1c3Npb25JZCxcbiAgICAgICAgICAgIHN1YmRpc2N1c3Npb25faWQ6IHNlbGVjdGVkU3ViRGlzY3Vzc2lvbj8uaWQgfHwgbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHBlbmRpbmdNZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlcj8uZnVsbF9uYW1lIHx8ICdBbm9ueW1vdXMnXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzZW5kIG1lc3NhZ2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld01lc3NhZ2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1tERUJVR10gTWVzc2FnZSBzYXZlZCB0byBzZXJ2ZXIgd2l0aCBJRDonLCBuZXdNZXNzYWdlRGF0YS5pZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIHBlbmRpbmcgbWVzc2FnZSB3aXRoIHRoZSBzZXJ2ZXIgSURcbiAgICAgICAgaWYgKHNlbGVjdGVkU3ViRGlzY3Vzc2lvbikge1xuICAgICAgICAgIC8vIENyZWF0ZSB1cGRhdGVkIG1lc3NhZ2VzIGFycmF5IHdpdGggdGhlIHNlcnZlciBJRFxuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRNZXNzYWdlcyA9IHNlbGVjdGVkU3ViRGlzY3Vzc2lvbi5tZXNzYWdlcy5tYXAobXNnID0+IFxuICAgICAgICAgICAgbXNnLmlkLnRvU3RyaW5nKCkgPT09IHRlbXBJZFxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgIGlkOiBuZXdNZXNzYWdlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgIHNlcnZlcklkOiBuZXdNZXNzYWdlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgIGlzUGVuZGluZzogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDogbXNnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDcmVhdGUgdXBkYXRlZCBzdWItZGlzY3Vzc2lvbiBvYmplY3RcbiAgICAgICAgICBjb25zdCB1cGRhdGVkU3ViRGlzY3Vzc2lvbiA9IHtcbiAgICAgICAgICAgIC4uLnNlbGVjdGVkU3ViRGlzY3Vzc2lvbixcbiAgICAgICAgICAgIG1lc3NhZ2VzOiB1cGRhdGVkTWVzc2FnZXMsXG4gICAgICAgICAgICBsYXN0TWVzc2FnZUF0OiAnanVzdCBub3cnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHN1Yi1kaXNjdXNzaW9uIGluIHRoZSBzdGF0ZVxuICAgICAgICAgIHNldFN1YkRpc2N1c3Npb25zKHByZXYgPT4gcHJldi5tYXAoc3ViID0+IFxuICAgICAgICAgICAgc3ViLmlkID09PSBzZWxlY3RlZFN1YkRpc2N1c3Npb24uaWQgPyB1cGRhdGVkU3ViRGlzY3Vzc2lvbiA6IHN1YlxuICAgICAgICAgICkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFsc28gdXBkYXRlIHRoZSBzZWxlY3RlZFN1YkRpc2N1c3Npb24gc3RhdGUgdG8gc2hvdyB0aGUgY29uZmlybWVkIG1lc3NhZ2VcbiAgICAgICAgICBzZXRTZWxlY3RlZFN1YkRpc2N1c3Npb24odXBkYXRlZFN1YkRpc2N1c3Npb24pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIFVwZGF0ZWQgc3ViLWRpc2N1c3Npb24gbWVzc2FnZXMgd2l0aCBzZXJ2ZXIgSUQ6JywgdXBkYXRlZE1lc3NhZ2VzLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVXBkYXRlIG1haW4gZGlzY3Vzc2lvbiBtZXNzYWdlc1xuICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgICAgbXNnLmlkLnRvU3RyaW5nKCkgPT09IHRlbXBJZFxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgIGlkOiBuZXdNZXNzYWdlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgIHNlcnZlcklkOiBuZXdNZXNzYWdlRGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgIGlzUGVuZGluZzogZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDogbXNnXG4gICAgICAgICAgKSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBwZW5kaW5nIG1lc3NhZ2UgaW4gdGhlIHBlbmRpbmdNZXNzYWdlcyBhcnJheVxuICAgICAgICAgIHNldFBlbmRpbmdNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgICAgIG1zZy5pZC50b1N0cmluZygpID09PSB0ZW1wSWRcbiAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAuLi5tc2csXG4gICAgICAgICAgICAgICAgICBpZDogbmV3TWVzc2FnZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICBzZXJ2ZXJJZDogbmV3TWVzc2FnZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICBpc1BlbmRpbmc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IG1zZ1xuICAgICAgICAgICkpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdbREVCVUddIFVwZGF0ZWQgbWFpbiBkaXNjdXNzaW9uIG1lc3NhZ2VzIHdpdGggc2VydmVyIElEJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICAgIC8vIFRoZSBtZXNzYWdlIGlzIGFscmVhZHkgaW4gdGhlIFVJLCBzbyB3ZSBkb24ndCBuZWVkIHRvIGFkZCBpdCBhZ2FpblxuICAgICAgICAvLyBKdXN0IG1hcmsgaXQgYXMgZmFpbGVkIHNvIHRoZSB1c2VyIGtub3dzIGl0IGRpZG4ndCBzZW5kXG4gICAgICAgIGlmIChzZWxlY3RlZFN1YkRpc2N1c3Npb24pIHtcbiAgICAgICAgICBzZXRTdWJEaXNjdXNzaW9ucyhwcmV2ID0+IHByZXYubWFwKHN1YiA9PiBcbiAgICAgICAgICAgIHN1Yi5pZCA9PT0gc2VsZWN0ZWRTdWJEaXNjdXNzaW9uLmlkXG4gICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgLi4uc3ViLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IHN1Yi5tZXNzYWdlcy5tYXAobXNnID0+IFxuICAgICAgICAgICAgICAgICAgICBtc2cuaWQudG9TdHJpbmcoKSA9PT0gdGVtcElkXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IC4uLm1zZywgZmFpbGVkOiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IG1zZ1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBzdWJcbiAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgICAgIG1zZy5pZC50b1N0cmluZygpID09PSB0ZW1wSWRcbiAgICAgICAgICAgICAgPyB7IC4uLm1zZywgZmFpbGVkOiB0cnVlIH1cbiAgICAgICAgICAgICAgOiBtc2dcbiAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicC02XCI+XG4gICAgICB7aXNMb2FkaW5nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBweS04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItaW5kaWdvLTYwMFwiPjwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1ncmF5LTYwMFwiPkxvYWRpbmcgbWVzc2FnZXMuLi48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICBvbkNsaWNrPXtzZWxlY3RlZFN1YkRpc2N1c3Npb24gPyAoKSA9PiBzZXRTZWxlY3RlZFN1YkRpc2N1c3Npb24obnVsbCkgOiBvbkJhY2t9XG4gICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRTdWJEaXNjdXNzaW9uID8gc2VsZWN0ZWRTdWJEaXNjdXNzaW9uLnRpdGxlIDogZGlzY3Vzc2lvblRpdGxlfVxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIHtzZWxlY3RlZFN1YkRpc2N1c3Npb24gJiYgc2VsZWN0ZWRTdWJEaXNjdXNzaW9uLnByb2dyZXNzICE9PSB1bmRlZmluZWQgJiYgKFxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICBQcm9ncmVzczoge3NlbGVjdGVkU3ViRGlzY3Vzc2lvbi5wcm9ncmVzc30lXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICB7IXNlbGVjdGVkU3ViRGlzY3Vzc2lvbiAmJiAoXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU5ld1N1YkRpc2N1c3Npb259XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArIE5ldyBTdWItZGlzY3Vzc2lvblxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgeyFzZWxlY3RlZFN1YkRpc2N1c3Npb24gJiYgc3ViRGlzY3Vzc2lvbnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItM1wiPlN1Yi1kaXNjdXNzaW9uczwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIHtzdWJEaXNjdXNzaW9ucy5tYXAoKHN1YikgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtzdWIuaWR9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRTdWJEaXNjdXNzaW9uKHN1Yil9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0zIGJvcmRlciByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNTAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57c3ViLnRpdGxlfTwvaDQ+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICB7c3ViLm1lc3NhZ2VzLmxlbmd0aH0gbWVzc2FnZXMg4oCiIExhc3QgbWVzc2FnZSB7c3ViLmxhc3RNZXNzYWdlQXR9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IG1iLTYgbWF4LWgtWzYwMHB4XSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgeyhzZWxlY3RlZFN1YkRpc2N1c3Npb24gPyBzZWxlY3RlZFN1YkRpc2N1c3Npb24ubWVzc2FnZXMgOiBtZXNzYWdlcykubWFwKChtZXNzYWdlKSA9PiAoXG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGtleT17bWVzc2FnZS5pZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggJHtcbiAgICAgICAgICAgICAgbWVzc2FnZS5hdXRob3IgPT09IHVzZXI/LmZ1bGxfbmFtZSA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWF4LXcteHMgc206bWF4LXctbWQgbWQ6bWF4LXctbGcgcm91bmRlZC1sZyBwLTMgJHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmF1dGhvciA9PT0gdXNlcj8uZnVsbF9uYW1lXG4gICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtYnItbm9uZSdcbiAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIHRleHQtZ3JheS05MDAgcm91bmRlZC1ibC1ub25lJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge21lc3NhZ2UuYXV0aG9yICE9PSB1c2VyPy5mdWxsX25hbWUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmF1dGhvcn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+e21lc3NhZ2UuY29udGVudH08L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LXhzIG10LTEgJHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlLmF1dGhvciA9PT0gdXNlcj8uZnVsbF9uYW1lID8gJ3RleHQtYmx1ZS0xMDAnIDogJ3RleHQtZ3JheS01MDAnXG4gICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICB7bWVzc2FnZS50aW1lc3RhbXB9XG4gICAgICAgICAgICAgICAge21lc3NhZ2UuaXNQZW5kaW5nICYmICcg4oCiIFNlbmRpbmcuLi4nfVxuICAgICAgICAgICAgICAgIHttZXNzYWdlLmZhaWxlZCAmJiAnIOKAoiBGYWlsZWQgdG8gc2VuZCd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTZW5kTWVzc2FnZX0gY2xhc3NOYW1lPVwicC00IGJvcmRlci10XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHZhbHVlPXtuZXdNZXNzYWdlfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSB5b3VyIG1lc3NhZ2UuLi5cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTQgcHktMiBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWluZGlnby02MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWluZGlnby03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWluZGlnby01MDAgZm9jdXM6cmluZy1vZmZzZXQtMlwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgU2VuZFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cblxuICAgICAgPERpYWxvZyBvcGVuPXtpc05ld1N1YkRpc2N1c3Npb25PcGVufSBvbk9wZW5DaGFuZ2U9e3NldElzTmV3U3ViRGlzY3Vzc2lvbk9wZW59PlxuICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgIDxEaWFsb2dUaXRsZT5DcmVhdGUgTmV3IFN1Yi1kaXNjdXNzaW9uPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgIDxEaWFsb2dDb250ZW50PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHB5LTRcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgIFN1Yi1kaXNjdXNzaW9uIFRpdGxlXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdTdWJEaXNjdXNzaW9uVGl0bGV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdTdWJEaXNjdXNzaW9uVGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgc3ViLWRpc2N1c3Npb24gdGl0bGUuLi5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgICA8RGlhbG9nRm9vdGVyPlxuICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCIgXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc05ld1N1YkRpc2N1c3Npb25PcGVuKGZhbHNlKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDcmVhdGVTdWJEaXNjdXNzaW9ufVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICBkaXNhYmxlZD17IW5ld1N1YkRpc2N1c3Npb25UaXRsZS50cmltKCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ3JlYXRlIFN1Yi1kaXNjdXNzaW9uXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvRGlhbG9nRm9vdGVyPlxuICAgICAgPC9EaWFsb2c+XG4gICAgPC9kaXY+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkJ1dHRvbiIsIklucHV0IiwiRGlhbG9nIiwiRGlhbG9nSGVhZGVyIiwiRGlhbG9nVGl0bGUiLCJEaWFsb2dDb250ZW50IiwiRGlhbG9nRm9vdGVyIiwidXNlQXV0aCIsIkRpc2N1c3Npb25NZXNzYWdlcyIsImRpc2N1c3Npb25JZCIsImRpc2N1c3Npb25UaXRsZSIsIm9uQmFjayIsIm9uTWVzc2FnZVNlbnQiLCJjb25zb2xlIiwibG9nIiwidXNlciIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJzdWJEaXNjdXNzaW9ucyIsInNldFN1YkRpc2N1c3Npb25zIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZm9ybWF0RGF0ZSIsImRhdGUiLCJub3ciLCJEYXRlIiwiZGlmZkluU2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsImdldFRpbWUiLCJtaW51dGVzIiwiaG91cnMiLCJkYXlzIiwicGVuZGluZ01lc3NhZ2VzIiwic2V0UGVuZGluZ01lc3NhZ2VzIiwicG9sbGluZ0ludGVydmFsUmVmIiwiaXNNb3VudGVkIiwiZmV0Y2hEYXRhIiwic2hvd0xvYWRpbmciLCJsZW5ndGgiLCJtZXNzYWdlc1Jlc3BvbnNlIiwiZmV0Y2giLCJzdGF0dXMiLCJzdWJEaXNjdXNzaW9uc1Jlc3BvbnNlIiwib2siLCJlcnJvciIsInN0YXR1c1RleHQiLCJFcnJvciIsIm1lc3NhZ2VzRGF0YSIsImpzb24iLCJzdWJEaXNjdXNzaW9uc0RhdGEiLCJtYWluRGlzY3Vzc2lvbk1lc3NhZ2VzIiwic3ViRGlzY3Vzc2lvbk1lc3NhZ2VzTWFwIiwiTWFwIiwiZm9yRWFjaCIsIm0iLCJmb3JtYXR0ZWRNZXNzYWdlIiwiaWQiLCJhdXRob3IiLCJjb250ZW50IiwidGltZXN0YW1wIiwiY3JlYXRlZF9hdCIsInNlcnZlcklkIiwic3ViZGlzY3Vzc2lvbl9pZCIsInN1YklkIiwiaGFzIiwic2V0IiwiZ2V0IiwicHVzaCIsImZvcm1hdHRlZFN1YkRpc2N1c3Npb25zIiwibWFwIiwicyIsInN1Yk1lc3NhZ2VzIiwibGFzdE1lc3NhZ2VUaW1lIiwicmVkdWNlIiwibGF0ZXN0IiwibXNnIiwibXNnVGltZSIsInRpdGxlIiwiY3JlYXRlZEF0IiwibGFzdE1lc3NhZ2VBdCIsInByb2dyZXNzIiwiZm9ybWF0dGVkTWVzc2FnZXMiLCJzZWxlY3RlZFN1YkRpc2N1c3Npb24iLCJ1cGRhdGVkU3ViRGlzY3Vzc2lvbiIsImZpbmQiLCJzZCIsInNldFNlbGVjdGVkU3ViRGlzY3Vzc2lvbiIsImNvbmZpcm1lZE1lc3NhZ2VJZHMiLCJzdGlsbFBlbmRpbmdNZXNzYWdlcyIsImZpbHRlciIsInBtIiwiaW5jbHVkZXMiLCJjb21iaW5lZE1lc3NhZ2VzIiwiY3VycmVudCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImlzTmV3U3ViRGlzY3Vzc2lvbk9wZW4iLCJzZXRJc05ld1N1YkRpc2N1c3Npb25PcGVuIiwibmV3U3ViRGlzY3Vzc2lvblRpdGxlIiwic2V0TmV3U3ViRGlzY3Vzc2lvblRpdGxlIiwibmV3TWVzc2FnZSIsInNldE5ld01lc3NhZ2UiLCJoYW5kbGVOZXdTdWJEaXNjdXNzaW9uIiwiaGFuZGxlQ3JlYXRlU3ViRGlzY3Vzc2lvbiIsInRyaW0iLCJyZXNwb25zZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuZXdTdWJEaXNjdXNzaW9uIiwicHJldiIsImhhbmRsZVNlbmRNZXNzYWdlIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGVtcElkIiwicGVuZGluZ01lc3NhZ2UiLCJmdWxsX25hbWUiLCJpc1BlbmRpbmciLCJzdWIiLCJkaXNjdXNzaW9uX2lkIiwidXNlcm5hbWUiLCJuZXdNZXNzYWdlRGF0YSIsInVwZGF0ZWRNZXNzYWdlcyIsInRvU3RyaW5nIiwiZmFpbGVkIiwiZGl2IiwiY2xhc3NOYW1lIiwic3BhbiIsIm9uQ2xpY2siLCJ2YXJpYW50IiwiaDIiLCJ1bmRlZmluZWQiLCJwIiwiaDMiLCJoNCIsIm1lc3NhZ2UiLCJmb3JtIiwib25TdWJtaXQiLCJpbnB1dCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJidXR0b24iLCJvcGVuIiwib25PcGVuQ2hhbmdlIiwibGFiZWwiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/DiscussionMessages.tsx\n"));

/***/ })

});